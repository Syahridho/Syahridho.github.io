(function(e){var t,n=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),i=function(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t},o=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},r=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set}catch(e){return!1}})()||function(){var t=function(e){var n,i,o,r,a;if(Object.defineProperty(this,"_entries",{writable:!0,value:{}}),"undefined"!==(n=typeof e))if("string"===n)""!==e&&this._fromString(e);else if(e instanceof t)i=this,e.forEach((function(e,t){i.append(t,e)}));else{if(null===e||"object"!==n)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(o=0;o<e.length;o++){if(r=e[o],"[object Array]"!==Object.prototype.toString.call(r)&&2===r.length)throw new TypeError("Expected [string, any] as entry at index "+o+" of URLSearchParams's input");this.append(r[0],r[1])}else for(a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},r=t.prototype;r.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},r.delete=function(e){delete this._entries[e]},r.get=function(e){return e in this._entries?this._entries[e][0]:null},r.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},r.has=function(e){return e in this._entries},r.set=function(e,t){this._entries[e]=[String(t)]},r.forEach=function(e,t){var n,i,o;for(i in this._entries)if(this._entries.hasOwnProperty(i))for(n=this._entries[i],o=0;o<n.length;o++)e.call(t,n[o],i,this)},r.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),i(e)},r.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),i(e)},r.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),i(e)},n&&(r[Symbol.iterator]=r.entries),r.toString=function(){var e=[];return this.forEach((function(t,n){e.push(o(n)+"="+o(t))})),e.join("&")},e.URLSearchParams=t}(),"function"!=typeof(t=e.URLSearchParams.prototype).sort&&(t.sort=function(){var e,t=this,n=[];for(this.forEach((function(e,i){n.push([i,e]),t._entries||t.delete(i)})),n.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),t._entries&&(t._entries={}),e=0;e<n.length;e++)this.append(n[e][0],n[e][1])}),"function"!=typeof t._fromString&&Object.defineProperty(t,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){var t,n,i,o;if(this._entries)this._entries={};else for(t=[],this.forEach((function(e,n){t.push(n)})),o=0;o<t.length;o++)this.delete(t[o]);for(n=(e=e.replace(/^\?/,"")).split("&"),o=0;o<n.length;o++)i=n[o].split("="),this.append(r(i[0]),i.length>1?r(i[1]):"")}})})("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){var t;if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(t,n){var i,o,r,a,s;if("string"!=typeof t&&(t=String(t)),i=document,n&&(void 0===e.location||n!==e.location.href)){(o=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=n,i.head.appendChild(o);try{if(0!==o.href.indexOf(n))throw new Error(o.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}if((r=i.createElement("a")).href=t,o&&(i.body.appendChild(r),r.href=r.href),(a=i.createElement("input")).type="url",a.value=t,":"===r.protocol||!/:/.test(r.href)||!a.checkValidity()&&!n)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:r});var l=new e.URLSearchParams(this.search),d=!0,c=!0,h=this;["append","delete","set"].forEach((function(e){var t=l[e];l[e]=function(){t.apply(l,arguments),d&&(c=!1,h.search=l.toString(),c=!0)}})),Object.defineProperty(this,"searchParams",{value:l,enumerable:!0}),s=void 0,Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==s&&(s=this.search,c&&(d=!1,this.searchParams._fromString(this.search),d=!0))}})},i=n.prototype;["hash","host","hostname","port","protocol"].forEach((function(e){!function(e){Object.defineProperty(i,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)})),Object.defineProperty(i,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(i,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(){},enumerable:!0},username:{get:function(){return""},set:function(){},enumerable:!0}}),n.createObjectURL=function(){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval((function(){e.location.origin=t()}),100)}}}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),window.tableau=window.tableau||{},function(e){e._apiScripts=e._apiScripts||[],e._apiScripts.push(function(){for(var e,t,n=document.getElementsByTagName("script"),i=n.length-1;i>=0&&(e=n[i],!/viz_v1\.js/.test(e.src));i-=1);return(t=new RegExp(".*?[^/:]/").exec(e.src))&&(-1!==t[0].toLowerCase().indexOf("http://")||-1!==t[0].toLowerCase().indexOf("https://"))||(t=new RegExp(".*?[^/:]/").exec(window.location.href)),t?t[0].toLowerCase():""}())}(window.tableau),window.tableau._apiLoaded||(window.tableau._apiLoaded=!0,function(){function e(){return"undefined"!=typeof pageXOffset?window.pageXOffset:document.documentElement.scrollLeft}function t(){return"undefined"!=typeof pageYOffset?window.pageYOffset:document.documentElement.scrollTop}function n(e){return null==e}function i(e){return null==e||0===e.length}function o(){return!n(window.postMessage)}function r(e,t){return e&&e.nodeType===I&&e.tagName.toLowerCase()===t.toLowerCase()}function a(e,t){return e&&(" "+e.className+" ").replace(/[\n\t\r]/g," ").indexOf(" "+t+" ")>-1}function s(e){var t,n,i,o;for(t=e||"",n=0,i=(o=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&#39;"],[/\//g,"&#47;"]]).length;n<i;n++)t=t.replace(o[n][0],o[n][1]);return t}function l(e,t){return window.getComputedStyle?window.getComputedStyle(e,t):e.currentStyle}function d(e,t){return i(e)?t:!i(e.match(/^(yes|y|true|t|1)$/i))}function c(e,t){var n,o,a,s,l,h,u=e.childNodes,p="";for(t=t||{},o=0,a=u.length;o<a;o++)r(n=u[o],"param")&&n.name?(s=n.name,l=n.value?n.value:null,"name"===s?p=l:"filter"===s?(t.filter=t.filter||[],t.filter.push(l)):(t[s]=l,"mobile"===s&&d(l,!1)&&(j=!0))):n.childNodes&&n.childNodes.length>0&&!r(n,"object")&&(h=c(n,t),p=i(p)?h:p);return p}function h(e){var t,n,o,r;return o=i(e.host_url)?i(e.serverRoot)?tableau._apiScripts[0]:e.serverRoot:decodeURIComponent(e.host_url),t=new RegExp(".*//"),r=new RegExp("https?://[-A-Za-z0-9]*public[-A-Za-z0-9]*\\.tableau"),(n=t.exec(window.location.href)&&t.exec(window.location.href)[0])&&-1===n.indexOf("file://")&&-1===o.indexOf(n)&&null!==o.match(r)&&(o=o.replace(t,n)),o}function u(e,t){for(var n=0;void 0!==e[n];n+=1)if(e[n]===t)return!0;return!1}function p(n){var i=n.getBoundingClientRect(),o=l(n),r=parseInt(o.paddingLeft,10)||0,a=parseInt(o.paddingRight,10)||0,s=parseInt(o.paddingTop,10)||0,d=parseInt(o.paddingBottom,10)||0,c=parseInt(o.borderLeftWidth,10)||0,h=parseInt(o.borderTopWidth,10)||0;return{left:i.left+r+c+e(),top:i.top+s+h+t(),width:n.clientWidth-(r+a),height:n.clientHeight-(s+d)}}function f(e,t){var n=Math.max(e.left,t.left),i=Math.max(e.top,t.top),o=Math.min(e.left+e.width,t.left+t.width),r=Math.min(e.top+e.height,t.top+t.height);return o<=n||r<=i?{left:0,top:0,width:0,height:0}:{left:n,top:i,width:o-n,height:r-i}}function m(){var n;return(n=window.visualViewport?{left:window.visualViewport.pageLeft,top:window.visualViewport.pageTop,width:window.visualViewport.width,height:window.visualViewport.height}:null)||(n=p(document.documentElement),"BackCompat"===document.compatMode&&(n.height=document.body.clientHeight-n.left,n.width=document.body.clientWidth-n.top),n.left+=e(),n.top+=t(),n)}function g(e,t){var n=tableau.vizs[e]._loadOrder,i=tableau.vizs[t]._loadOrder;return n<i?-1:n===i?0:1}function b(e){var t=e>-1?tableau.vizs[L[e]]:null;t&&t._onLoaded()}function w(e){var t,n;e===z&&(n=z+1,(t=tableau.vizs[L[n]])&&(z=n,t.load(),window.postMessage&&setTimeout((function(){w(z)}),3e3)))}function v(){var e;O?(e=tableau.vizs[L[z]])&&"complete"===e._iframe.readyState&&(b(z),w(z)):(b(z),w(z))}function _(){setTimeout(v,3e3)}function y(e){var t,n,i,o,r;if(e.data&&("string"==typeof e.data||e.data instanceof String))if("tableau.completed"===(o=(i=e.data.split(","))[0])||"completed"===o){if(r=parseInt(i[1],10),isNaN(r))for(t=0;t<=z;t++)(n=tableau.vizs[L[t]])&&n._hideLoadIndicators();b(r),w(r)}else if("tableau.loadIndicatorsLoaded"===o)(n=tableau.vizs[L[z]])&&n._hideLoadIndicators();else if("layoutInfoReq"===o)for(t=0;t<=z;t++)(n=tableau.vizs[L[t]])&&n._sendVisibleRect();else"tableau.listening"===o?(n=tableau.vizs[L[z]])&&n._enableVisibleRectCommunication():"tableau.staticImageRedirect"===o&&(n=(r=parseInt(i[1],10))>-1?tableau.vizs[L[r]]:null)&&n._hideLoadIndicators()}function E(e){this._objectElement=e}function x(){var e,t,n,i,o,r,s=[];if(i=function(){for(var e,t=document.getElementsByTagName("object"),n=[],i=0,o=t.length;i<o;i++)a(e=t[i],"tableauViz")&&!u(S,e)&&(S.push(e),n.push(e));return n}(),0!==i.length){for(function(){for(var e=document.getElementById("tableau_hide_this");e;)e.parentNode.removeChild(e),e=document.getElementById("tableau_hide_this")}(),e=0,t=i.length;e<t;e++)r=c(n=i[e],o={filter:[],ticket:"",path:""}),o.width=parseInt(l(n,null).width,10),isNaN(o.width)&&delete o.width,o.height=parseInt(l(n,null).height,10),isNaN(o.height)&&delete o.height,s.push({name:r,objectElement:n,params:o});for(function(e){for(var t=window.tableau._apiScripts,n=0,i=Math.min(e.length,t.length);n<i;n++)e[n].params.serverRoot=t[n]}(s),e=0,t=s.length;e<t;e++)tableau.createViz(s[e].name,s[e].objectElement,s[e].params);L.sort(g),w(z)}}var j,I=1,O=navigator.userAgent.indexOf("MSIE")>-1&&!window.opera,z=-1,S=[],L=[];E._instanceCounter=0,E.prototype.getRootElement=function(){return this._ensurePlaceholderDiv()?this._placeholderDiv:null},E.prototype.adjustSlopInWidth=function(e,t){return t-4},E.prototype.adjustSlopInHeight=function(e,t){var n=4;return d(e.tabs,!1)&&(n+=3),d(e.toolbar,!0)&&(n+=5),t-n},E.prototype.adjustHeightForPublic=function(e,t){return!e.embed_code_version||e.embed_code_version<3?t-33:t},E.prototype.sizeIframeToObjectElement=function(e){var t,i,o=this._objectElement,r={};n(o)||(c(o,r),t=l(o,null).width,i=l(o,null).height,-1===t.indexOf("%")&&-1===i.indexOf("%")&&(t=parseInt(t,10),i=parseInt(i,10),r.embed_code_version||(t=this.adjustSlopInWidth(r,t),i=this.adjustSlopInHeight(r,i)),t+="px",i+="px"),e.style.width=t,e.style.height=i)},E.prototype.sizeToObjectElement=function(e){var t,i,o=this._objectElement;n(o)||(t=l(o,null).width,i=l(o,null).height,e.style.width=t,e.style.height=i)};const R=function(e){return"number"==typeof e?e:"string"==typeof e&&+e.substr(0,e.indexOf("px"))||0},P=function(e,t,n){var i=e;return n>0&&i>n?i=n:i<t&&(i=t),i};E.prototype.determinePlaceholderSize=function(e,t){var n=e.clientWidth,i=e.clientHeight;n=Math.round(R(n)),i=Math.round(R(i));var o=function(e,t,n,i,o,r){return t>0&&e>0&&(0==i||0==n)?o>=t&&r>=e?[o,r]:[t,e]:[P(o,t,i),P(r,e,n)]}(Math.round(R(t.style.minHeight)),Math.round(R(t.style.minWidth)),Math.round(R(t.style.maxHeight)),Math.round(R(t.style.maxWidth)),n,i);return{placeholderWidth:o[0],placeholderHeight:o[1]}},E.prototype.createLoadingFeedback=function(e,t){var n,o,r,a,l,c,h,u,p,f=d(t.display_spinner,!0);if(a=document.baseURI!==document.location.href,!0!==f||a||(t.display_spinner="no"),this._ensurePlaceholderDiv()){this.sizeToObjectElement(this._placeholderDiv);try{if(c=(u=this.determinePlaceholderSize(this._placeholderDiv,this._objectElement)).placeholderWidth,h=u.placeholderHeight,"number"!=typeof c||isNaN(c))throw"Invalid width- "+c;if("number"!=typeof h||isNaN(h))throw"Invalid height- "+h}catch(e){console.error("Failed to get iframe size: "+e),c=0,h=0}return(o=this._placeholderDiv.style).position="relative",o.overflow="hidden",o.display="none",n=['<div style="position:absolute;top:0;left:0;right:0;bottom:0;border:0;padding:0;margin:0">'],l=E._instanceCounter++,a||n.push('<div style="top:100px;left:0;right:0;position:absolute;z-index:991;box-shadow:none;display:flex;justify-content:center;"><style>#tableau-svg-spinner-container-%instId%{width:65px;height:65px;border-radius:10px;display:flex;justify-content:center;align-items:center}#tableau-svg-spinner-%instId%{width:50px;height:50px;-webkit-animation:tableau-svg-spinner-animation 1s linear infinite;animation:tableau-svg-spinner-animation 1s linear infinite}@-webkit-keyframes tableau-svg-spinner-animation{100%{-webkit-transform:rotate(360deg)}}@keyframes tableau-svg-spinner-animation{100%{transform:rotate(360deg)}}</style><div id="tableau-svg-spinner-container-%instId%"><svg id="tableau-svg-spinner-%instId%" viewBox="0 0 50 50"><style>#tail{fill:url(#tableau-fade-%instId%)}#head{fill:#616570}stop{stop-color:#616570}</style><linearGradient id="tableau-fade-%instId%" x2="50" y1="25" y2="25" gradientUnits="userSpaceOnUse"><stop offset="0" stop-opacity="0" /><stop offset=".15" stop-opacity=".04" /><stop offset=".3" stop-opacity=".16" /><stop offset=".45" stop-opacity=".36" /><stop offset=".61" stop-opacity=".64" /><stop offset=".76" /></linearGradient><path id="head" d="M0 25a25 25 0 1 0 50 0h-3.9a21.1 21.1 0 1 1-42.2 0" /><path id="tail" d="M50 25a25 25 0 0 0-50 0h3.9a21.1 21.1 0 1 1 42.2 0" /></svg></div></div>'.replace(/%instId%/g,l)),d(t.display_overlay,!0)&&n.push("<div style='position:absolute;top:0;left:0;right:0;bottom:0;z-index:990;background-color:#EBEBEB;opacity:.24'></div>"),d(t.display_static_image,!0)&&!i(t.static_image)&&(n.push("<style>#tableau-svg-spinner-container-%instId%{border-radius:12px;background:rgba(255,255,255,.6);</style>".replace(/%instId%/g,l)),t.display_static_image="no",n.push('<div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; '),n.push("background: transparent url('"),p={height:h,width:c,deviceScaleFactor:window.devicePixelRatio},n.push(s(function(e,t){var n,i,o;try{for(i in n=new URL(e),t)if(t.hasOwnProperty(i)){if("number"!=typeof(o=t[i])||isNaN(o)){console.error("Invalid query parameter- "+i+":"+o);continue}n.searchParams.append(encodeURIComponent(i),encodeURIComponent(o))}}catch(t){return console.error("Unable to append params to the url : "+t),e}return n.toString()}(t.static_image,p))),n.push("') no-repeat scroll 0 0; background-size: "+s(p.width+"px ")+s(p.height+"px")+"; box-shadow: none; left:0px; top:"),n.push("1px"),n.push('"></div>')),n.push("</div>"),(r=document.createElement("div")).innerHTML=n.join(""),this._glassPaneElement=r.firstChild,this._placeholderDiv.appendChild(this._glassPaneElement),r.innerHTML="",r=null,this._createAndAppendIframe()}},E.prototype.show=function(){this._placeholderDiv&&(this._placeholderDiv.style.display="block")},E.prototype.dispose=function(){var e,t;this._glassPaneElement&&(this._glassPaneElement.style.transition="150ms opacity",this._glassPaneElement.style.opacity=0,e=function(e){e.innerHTML="",e.parentNode.removeChild(e),e=null},t=this._glassPaneElement,window.setTimeout((function(){e(t)}),150)),this._objectElement&&(function(e,t){for(var n=0;void 0!==e[n];n+=1)if(e[n]===t)return e.splice(n,1),!0}(S,this._objectElement),this._objectElement.parentNode.removeChild(this._objectElement),this._objectElement=null)},E.prototype._ensurePlaceholderDiv=function(){var e;return!n(this._placeholderDiv)||!n(this._objectElement)&&(e=function(e,t,n){var i=e?e.parentNode:null;for(n=n||document.body;i;){if(a(i,t))return i;i=i===n?null:i.parentNode}return i}(this._objectElement,"tableauPlaceholder"),e||((e=document.createElement("div")).className="tableauPlaceholder",this._objectElement.parentNode.insertBefore(e,this._objectElement),e.appendChild(this._objectElement),this._objectElement.style.display="none"),this._placeholderDiv=e,!0)},E.prototype._createAndAppendIframe=function(){var e,t,i,o,r,a,s,l,d,c;if(!n(this._objectElement)){for(e=this._objectElement.attributes,(o=document.createElement("iframe")).frameBorder="0",o.marginHeight="0",o.marginWidth="0",d=(l={en:"Data Visualization","en-GB":"Data Visualisation",fr:"Visualisation de donnÃ©es",es:"VisualizaciÃ³n de datos",it:"Visualizzazione dati",pt:"VisualizaÃ§Ã£o de dados",ja:"ãƒ‡ãƒ¼ã‚¿ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³",de:"Datenvisualisierung",ko:"ë°ì´í„° ë¹„ì£¼ì–¼ë¦¬ì œì´ì…˜","zh-CN":"æ•°æ®å¯è§†åŒ–","zh-TW":"è³‡æ–™å¯è¦–åŒ–"})[c=window.navigator.language]||l[c.substr(0,2)]||l.en,o.setAttribute("title",d),o.setAttribute("allowTransparency","true"),o.setAttribute("allowFullScreen","true"),t=0,i=e.length;t<i;t++)e[t].specified&&o.setAttribute(e[t].name,e[t].value);return o.style.cssText=this._objectElement.style.cssText,o.style.margin="0px",o.style.padding="0px",o.style.border="none",this.sizeIframeToObjectElement(o),a=(s=navigator.userAgent).indexOf("WebKit")>=0,r=s.indexOf("Chrome")>=0,(s.indexOf("Safari")>=0||a&&!r)&&o.addEventListener("mousewheel",(function(){})),this._ensurePlaceholderDiv()&&this._placeholderDiv.appendChild(o),o}},window.tableau.Viz=function(e,t,n){this._name=e,this._iframe=t,this._filterArgs="",this._filterOpts=function(e){var t,n,o=[];if(i(e.filter))return"";for(t=0,n=e.filter.length;t<n;t++)o.push("&"+e.filter[t]);return o.join("")}(n),this._serverRoot=h(n),this._baseUrl=function(e,t,n){var o,r,a,s=[t];for(o in(a=n.site_root?n.site_root:"").length>0&&(a=function(e){return"/"!==(e=e.replace(/^\//,"")).charAt(e.length)&&(e+="/"),e}(a)),i(n.path)?i(n.ticket)?s.push(a+"views/"+e):s.push("trusted/"+n.ticket+"/"+a+"views/"+e):s.push(n.path),s.push("?:embed=y"),s.push("&:showVizHome=no"),r={"load-order":1,width:1,height:1,embed:1,filter:1,path:1,ticket:1,serverRoot:1,static_image:1,site_prefix:1,site_root:1,bootstrapWhenNotified:1},n)n.hasOwnProperty(o)&&void 0===r[o]&&s.push("&:"+o+"="+n[o]);return s.join("")}(this._name,this._serverRoot,n),this._loadOrder=n["load-order"]?parseInt(n["load-order"],10):0,this._filter={}},window.tableau.vizs=[],window.tableau.createViz=function(e,t,n){var o,r,a,s;a=h(n),o=(r=new E(t)).createLoadingFeedback(a,n),r.show(),(s=new tableau.Viz(e,o,n))._loadFeedback=r,s.show(),L.push(this.vizs.length),this.vizs.push(s),i(e)||(this.vizs[e]=s),window.postMessage||(O?o.onreadystatechange=_:o.onload=_)},window.tableau.Viz.prototype.load=function(){var e="&:loadOrderID="+z,t=window.top===window.self?"":"&:increment_view_count=no";this._iframe.src=this._baseUrl+this._filterOpts+e+t},window.tableau.Viz.prototype.show=function(){this._iframe.style.display="block"},window.tableau.Viz.prototype.hide=function(){this._iframe.style.display="none"},window.tableau.Viz.prototype.refresh=function(){this._iframe.src=this._baseUrl+this._filterOpts+this._filterArgs+"&:refresh=true"},window.tableau.Viz.prototype.revert=function(){this._iframe.src=this._baseUrl+"&:revert=all",this._filterArgs="",this._filter={}},window.tableau.Viz.prototype.filter=function(e){var t;if(n(e))this.revert();else{for(t in e)this._filter[t]=e[t];for(t in this._filterArgs="",e)this._filterArgs+="&"+encodeURIComponent(t)+"=",this._filterArgs+="string"==typeof e[t]?encodeURIComponent(e[t]):encodeURIComponent(e[t].join(","));this._iframe.src=this._baseUrl+this._filterOpts+this._filterArgs}},window.tableau.Viz.prototype._sendVisibleRect=function(){var e,t,n;o()&&this._iframe&&this._iframe.contentWindow&&(e=function(e){for(var t,n=p(e),i=e.parentElement;i&&i.parentElement;i=i.parentElement)("auto"===(t=l(i).overflow)||"scroll"===t||"hidden"===t)&&(n=f(n,p(i)));return f(n,m())}(this._iframe),t=p(this._iframe),n=["layoutInfoResp",e.left-t.left,e.top-t.top,e.width,e.height].join(","),this._iframe.contentWindow.postMessage(n,"*"))},window.tableau.Viz.prototype._enableVisibleRectCommunication=function(){o()&&this._iframe&&this._iframe.contentWindow&&this._iframe.contentWindow.postMessage("tableau.enableVisibleRectCommunication","*")},window.tableau.Viz.prototype._onLoaded=function(){this._hideLoadIndicators(),this._enableVisibleRectCommunication()},window.tableau.Viz.prototype._hideLoadIndicators=function(){this._loadFeedback&&(this._loadFeedback.dispose(),this._loadFeedback=null,delete this._loadFeedback)},document.addEventListener?(document.addEventListener("DOMContentLoaded",x,!1),document.addEventListener("message",y,!1),window.addEventListener("load",x,!1),window.addEventListener("message",y,!1)):document.attachEvent?(document.attachEvent("onreadystatechange",x),document.attachEvent("onmessage",y),window.attachEvent("onload",x),window.attachEvent("onmessage",y)):(window.onload=x,window.onmessage=y),(function(){var e=navigator.userAgent;return-1!==e.indexOf("iPad")||-1!==e.indexOf("Android")||-1!==e.indexOf("AppleWebKit")&&-1!==e.indexOf("Mobile")}()||j)&&function(){function e(e,t){var n;n="sf,"+t+","+document.documentElement.clientWidth/window.innerWidth+",0,0",e.postMessage(n,"*")}var t=!1;window.addEventListener&&window.addEventListener("message",(function(n){if("string"==typeof n.data||n.data instanceof String)for(var i,o=n.data.split(","),r=0;r<o.length;)t||"tableau.completed"!==o[r]&&"completed"!==o[r]||(t=!0,e(n.source,-1)),"sf?"===o[r]&&(i=o[++r],e(n.source,i)),++r}),!1)}(),tableau._createNewVizesAndStartLoading=x}()),"complete"===document.readyState&&tableau._createNewVizesAndStartLoading();